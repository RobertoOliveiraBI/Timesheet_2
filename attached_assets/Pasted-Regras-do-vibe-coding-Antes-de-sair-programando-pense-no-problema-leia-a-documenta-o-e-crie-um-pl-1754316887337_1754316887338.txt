Regras do vibe coding
Antes de sair programando, pense no problema, leia a documenta√ß√£o e crie um plano claro, nada de ‚Äús√≥ funciona na m√°quina do dev‚Äù

Crie uma lista de tarefas bem definida e checklist√°vel, visibilidade √© vida

Antes de come√ßar, me mostre o plano pra eu aprovar, revis√£o de adulto

Execute tarefa por tarefa, marcando como feito e explicando cada passo, transpar√™ncia total

Simplifique tudo ao m√°ximo, sem invencionice, cada fun√ß√£o focada e modular

Revise c√≥digo para garantir seguran√ßa, evitar vazamento de dado, SQL injection, etc

Explique o que mudou como se estivesse ensinando pra quem nunca viu o c√≥digo, did√°tico e direto

N√£o mexa em nenhuma outra parte do sistema, foco total s√≥ na importa√ß√£o dos cadastros administrativos

Antes de entregar, valide as listagens e se as tabelas e relacionamentos realmente existem

Contexto
O sistema administrativo precisa de uma funcionalidade para importar em massa registros das principais tabelas (usu√°rios, campanhas, centros de custo, clientes, etc) usando arquivos CSV, hoje, importar registro a registro √© invi√°vel, improdutivo e totalmente retr√≥grado, precisamos de velocidade sem perder controle, especialmente das chaves internas, evitando duplicidade e lixo de dados

L√≥gica
Ao importar um CSV, o sistema deve:

Validar estrutura do arquivo (nomes dos campos, tipo de dado, formato de datas e n√∫meros)

Garantir que cada registro relacione corretamente as chaves internas (ex: id_usuario, id_campanha, id_cliente, etc), nada de s√≥ aceitar nome solto

Tratar erros de importa√ß√£o e retornar feedback amig√°vel, ningu√©m merece mensagem obscura de stack trace

Oferecer um modelo CSV de cada cadastro com os campos esperados e formatos corretos para o usu√°rio baixar antes de importar, prevenindo erro humano b√°sico

Registrar todo erro de linha (ex: campo obrigat√≥rio ausente, formato inv√°lido, chave n√£o encontrada) e permitir baixar relat√≥rio dos erros

A√ß√£o
Implementar, em todos os cadastros administrativos do sistema:

Bot√£o ‚ÄúImportar CSV‚Äù para uploads em massa

Download do modelo de CSV, exibindo cabe√ßalhos e exemplos do formato correto

Valida√ß√£o r√≠gida dos campos:

Datas no padr√£o ISO (YYYY-MM-DD) ou BR (DD/MM/YYYY), definir e informar no modelo

N√∫meros sem s√≠mbolo, usando ponto para decimal

IDs devem bater com registros j√° existentes (n√£o aceitar nomes soltos onde precisa id)

Importa√ß√£o deve manter relacionamentos entre tabelas (ex: centro de custo ligado ao cliente correto, campanha ligada ao usu√°rio dono, etc)

Feedback visual mostrando o andamento, sucesso parcial ou total, e relat√≥rio dos erros para corre√ß√£o manual

Resultados
Importa√ß√£o em massa r√°pida, segura e sem perder integridade dos dados

Controle total das chaves internas preservado

Redu√ß√£o absurda do trabalho operacional manual

Usu√°rio menos dependente de suporte

Entradas
Arquivo CSV estruturado conforme modelo

Relacionamentos de chaves internas j√° existentes no banco

Campos obrigat√≥rios e opcionais claramente definidos

Formato
Resposta com checklist das etapas

Explica√ß√£o clara de cada ajuste

C√≥digo modular

Mensagem de feedback para cada linha processada (erro ou sucesso)

Informa√ß√µes Adicionais
Evite sobrescrever registros existentes sem confirma√ß√£o expl√≠cita

Ofere√ßa op√ß√£o de ‚Äúincluir somente novos‚Äù, ‚Äúatualizar existentes‚Äù ou ‚Äúmisturar ambos‚Äù, com explica√ß√£o dos impactos

Caso encontre refer√™ncia inexistente de chave (id n√£o achado), bloqueie a importa√ß√£o daquele registro e sinalize no relat√≥rio

Gera√ß√£o autom√°tica do template de importa√ß√£o, atualizado sempre que houver altera√ß√£o no cadastro

N√£o permitir upload de arquivos acima de X MB para n√£o matar a performance (definir limite padr√£o, ex: 5MB)

Papel
Aja como engenheiro s√™nior mentorando a implementa√ß√£o, priorizando clareza, robustez e autonomia do usu√°rio administrativo, explique cada decis√£o, n√£o aceite ‚Äúgambiarra que s√≥ funciona na m√£o do dev‚Äù

‚úÖ Requisitos Funcionais:
Importa√ß√£o em massa de registros para todas as tabelas administrativas via CSV

Download do modelo CSV atualizado de cada cadastro

Valida√ß√£o e tratamento dos campos obrigat√≥rios, formatos, e relacionamentos internos

Relat√≥rio de erros detalhado por linha processada

üóÉÔ∏è Banco de Dados:
Confirme se cada cadastro j√° tem campo de ID pr√≥prio e das tabelas relacionadas

Valide exist√™ncia e integridade dos relacionamentos, nada de aceitar refer√™ncia fantasma

N√£o invente novas tabelas sem necessidade, aproveite o modelo j√° existente

üíæ Persist√™ncia:
Cada registro importado deve ser salvo apenas ap√≥s valida√ß√£o completa

Op√ß√£o de salvar s√≥ ap√≥s aprova√ß√£o visual do preview dos dados importados

Erros de valida√ß√£o nunca devem parar a importa√ß√£o das linhas v√°lidas

Registre logs de todas as opera√ß√µes de importa√ß√£o

üîê Controle de Acesso:
Apenas usu√°rios administrativos autenticados podem importar registros

A√ß√£o de importa√ß√£o deve ser auditada (quem importou, quando, para qual tabela)

üé® Frontend:
Adicione bot√£o para importar e outro para baixar modelo

Tela deve mostrar status de cada linha: importada, erro, pendente

Feedback visual amig√°vel, barra de progresso, e op√ß√£o de baixar relat√≥rio de erros

Tooltip em cada campo obrigat√≥rio informando formato correto

‚ö†Ô∏è Important:
N√£o altere nenhuma outra parte do sistema ‚Äî s√≥ trabalhe no m√≥dulo de importa√ß√£o em massa dos cadastros administrativos

Valide todos os CRUDs das tabelas envolvidas, teste edge cases e sempre trate campos nulos, formatos e poss√≠veis duplicidades