# ğŸš€ Tractionfy Timesheet SaaS

![Status do Projeto](https://img.shields.io/badge/status-Em%20Desenvolvimento-blue)
![LicenÃ§a](https://img.shields.io/badge/license-MIT-green)
![Tecnologias](https://img.shields.io/badge/backend-Node.js%20%7C%20Express-green)
![Tecnologias](https://img.shields.io/badge/frontend-HTML%20%7C%20CSS%20%7C%20JS-orange)
![Banco de Dados](https://img.shields.io/badge/database-Replit%20DB-lightgrey)

## SumÃ¡rio

1.  [Sobre o Projeto](#-sobre-o-projeto)
2.  [Objetivos Gerais](#-objetivos-gerais)
3.  [Funcionalidades Principais](#-funcionalidades-principais)
4.  [Tecnologias Utilizadas (ImplementaÃ§Ã£o Inicial no Replit)](#-tecnologias-utilizadas-implementaÃ§Ã£o-inicial-no-replit)
5.  [Stack TecnolÃ³gica Recomendada para ProduÃ§Ã£o](#-stack-tecnolÃ³gica-recomendada-para-produÃ§Ã£o)
6.  [Estrutura do Projeto (MÃ³dulos)](#-estrutura-do-projeto-mÃ³dulos)
7.  [HistÃ³rias de UsuÃ¡rio](#-histÃ³rias-de-usuÃ¡rio)
8.  [MÃ©tricas de Sucesso](#-mÃ©tricas-de-sucesso)
9.  [Riscos e DependÃªncias](#-riscos-e-dependÃªncias)
10. [Como Contribuir](#-como-contribuir)
11. [LicenÃ§a](#-licenÃ§a)
12. [Contato](#-contato)

---

## ğŸŒŸ Sobre o Projeto

O **Tractionfy Timesheet** Ã© um sistema SaaS (Software as a Service) inovador, projetado especificamente para atender Ã s necessidades de grandes agÃªncias de marketing com equipes hÃ­bridas (presenciais e remotas), mÃºltiplos clientes, projetos e campanhas.

Nosso propÃ³sito Ã© transformar a gestÃ£o de tempo de uma tarefa burocrÃ¡tica em uma ferramenta estratÃ©gica. A plataforma permitirÃ¡ a apropriaÃ§Ã£o precisa das horas trabalhadas em campanhas e clientes especÃ­ficos, a categorizaÃ§Ã£o e anÃ¡lise de atividades nÃ£o debitÃ¡veis, e o fornecimento de relatÃ³rios gerenciais acionÃ¡veis para otimizar a alocaÃ§Ã£o de recursos, o faturamento e a rentabilidade.

Com uma interface web responsiva, o Tractionfy Timesheet garante praticidade e eficiÃªncia no dia a dia dos colaboradores, gestores e administradores.

---

## ğŸ¯ Objetivos Gerais

*   **Otimizar a ApropriaÃ§Ã£o de Horas:** Garantir o registro preciso e confiÃ¡vel das horas em projetos, campanhas e clientes, oferecendo transparÃªncia.
*   **Suportar Equipes HÃ­bridas:** Prover flexibilidade no registro e rastreabilidade para colaboradores remotos e presenciais.
*   **Identificar Horas NÃ£o DebitÃ¡veis:** Categorizar e analisar o tempo gasto em atividades internas para otimizaÃ§Ã£o de eficiÃªncia e direcionamento de treinamentos.
*   **Fornecer Dados AcionÃ¡veis:** Gerar informaÃ§Ãµes para faturamento preciso e anÃ¡lise de rentabilidade por cliente, projeto e campanha.
*   **Automatizar Fluxos:** Reduzir retrabalho e acelerar o ciclo de faturamento atravÃ©s da automaÃ§Ã£o do fechamento mensal e aprovaÃ§Ãµes.
*   **Manter HistÃ³rico AuditÃ¡vel:** Assegurar conformidade interna e atendimento a normas de privacidade (LGPD/GDPR).

---

## âœ¨ Funcionalidades Principais

O Tractionfy Timesheet serÃ¡ um sistema modular, focado em clareza, escalabilidade e facilidade de manutenÃ§Ã£o, priorizando a experiÃªncia do usuÃ¡rio e a confiabilidade dos dados.

1.  **GestÃ£o de UsuÃ¡rios e Equipes:**
    *   Perfis diferenciados (Master, Administrador, Gestor, Colaborador) com permissÃµes granulares.
    *   Hierarquia organizacional flexÃ­vel (times, departamentos, lÃ­deres).
    *   Cadastro de colaboradores com informaÃ§Ãµes de contato, taxas horÃ¡rias internas e custo real.
    *   SSO opcional via Google Workspace ou Microsoft 365.

2.  **GestÃ£o de Clientes, Projetos e Campanhas:**
    *   Registro de clientes com dados completos, contratos e prazo de vigÃªncia.
    *   CriaÃ§Ã£o de projetos associados a um cliente, com descriÃ§Ã£o, cronograma e orÃ§amento estimado.
    *   MÃºltiplas campanhas dentro de cada projeto, com objetivos, datas e status individuais.
    *   DefiniÃ§Ã£o de tarefas e atividades detalhadas, marcadas como debitÃ¡veis ou nÃ£o debitÃ¡veis.
    *   Templates de projetos e campanhas para agilizar configuraÃ§Ãµes.
    *   AlocaÃ§Ã£o de equipes a projetos e campanhas especÃ­ficas, com visibilidade de carga de trabalho.

3.  **Entrada de Horas (Timesheet):**
    *   Interface clean e responsiva com grade diÃ¡ria ou semanal para lanÃ§amentos manuais.
    *   CronÃ´metro integrado para controle em tempo real.
    *   AssociaÃ§Ã£o obrigatÃ³ria de cada entrada a colaborador, data, cliente, projeto, campanha e tarefa.
    *   SeleÃ§Ã£o do tipo de hora (faturÃ¡vel vs. interno/administrativo) e campo de descriÃ§Ã£o livre.
    *   Status de entrada (rascunho, pendente, aprovado, rejeitado) e validaÃ§Ãµes para evitar duplicatas.

4.  **Fluxo de AprovaÃ§Ã£o:**
    *   ConfiguraÃ§Ãµes de aprovaÃ§Ã£o multinÃ­vel, com regras por time ou projeto.
    *   NotificaÃ§Ãµes automÃ¡ticas por e-mail e in-app.
    *   VisÃ£o consolidada de timesheets pendentes para aprovaÃ§Ã£o em massa.
    *   Possibilidade de comentÃ¡rios em aprovaÃ§Ãµes ou rejeiÃ§Ãµes.
    *   HistÃ³rico completo de aprovaÃ§Ã£o para auditabilidade.

5.  **RelatÃ³rios e BI:**
    *   Dashboard customizÃ¡vel com mÃ©tricas chave (horas totais, debitÃ¡veis vs. nÃ£o debitÃ¡veis, produtividade mÃ©dia).
    *   RelatÃ³rios detalhados por colaborador, equipe, projeto/campanha e cliente.
    *   AnÃ¡lise de horas nÃ£o debitÃ¡veis por categoria (administrativo, reuniÃµes, treinamento, prospecÃ§Ã£o).
    *   Indicadores de utilizaÃ§Ã£o (percentual de horas faturÃ¡veis vs. nÃ£o faturÃ¡veis).
    *   ExportaÃ§Ã£o em CSV, XLS e PDF com filtros avanÃ§ados.

6.  **ConfiguraÃ§Ãµes e AdministraÃ§Ã£o:**
    *   DefiniÃ§Ã£o de feriados, horÃ¡rios de expediente e fuso horÃ¡rio da agÃªncia.
    *   GestÃ£o de taxas internas e de faturamento por colaborador, funÃ§Ã£o ou projeto.
    *   PersonalizaÃ§Ã£o de categorias de horas nÃ£o faturÃ¡veis.
    *   Campos customizados em projetos ou tarefas.
    *   Logs de auditoria para todas as aÃ§Ãµes crÃ­ticas.

7.  **IntegraÃ§Ãµes (APIs):**
    *   ImportaÃ§Ã£o de projetos e tarefas de Asana, Jira, Trello e Monday.com.
    *   SincronizaÃ§Ã£o de clientes via CRM (e.g., Salesforce).
    *   ExportaÃ§Ã£o de horas faturÃ¡veis para QuickBooks, Xero ou sistemas prÃ³prios de contabilidade.
    *   IntegraÃ§Ã£o de colaboradores e horas com ERPs como OMIE via API bidirecional.
    *   Webhooks para alertas em Slack, Microsoft Teams ou e-mail.

8.  **UX/UI e Performance:**
    *   Design responsivo para desktop, tablet e mobile.
    *   NavegaÃ§Ã£o fluida com carregamento rÃ¡pido e filtros dinÃ¢micos.
    *   NotificaÃ§Ãµes contextuais.
    *   AplicaÃ§Ã£o de padrÃµes de acessibilidade.

9.  **SeguranÃ§a e Conformidade:**
    *   Controle de Acesso Baseado em FunÃ§Ã£o (RBAC) com controle fino de acessos.
    *   Criptografia TLS em trÃ¢nsito e AES em repouso.
    *   Backups automÃ¡ticos e plano de recuperaÃ§Ã£o de desastres.
    *   AderÃªncia a LGPD/GDPR e polÃ­ticas internas de privacidade.

---

## ğŸ›  Tecnologias Utilizadas (ImplementaÃ§Ã£o Inicial no Replit)

Para a fase inicial de prototipagem e desenvolvimento rÃ¡pido dentro do ambiente Replit, utilizaremos a seguinte stack:

*   **Backend:** Node.js com Express.js para gerenciamento de rotas e APIs REST.
*   **Frontend:** HTML, CSS e JavaScript puro, com suporte a bibliotecas como Bootstrap para UI responsiva.
*   **Banco de Dados:** Replit DB, uma estrutura de chave-valor simples e eficiente para armazenar usuÃ¡rios, projetos, horas lanÃ§adas, campanhas e permissÃµes.
*   **AutenticaÃ§Ã£o:** SessÃµes simples via middleware, com potencial de evoluÃ§Ã£o para JWT (JSON Web Tokens) conforme a complexidade e seguranÃ§a aumentem.
*   **Outros Recursos:** IntegraÃ§Ã£o futura com APIs externas para notificaÃ§Ãµes ou dashboards.

---

## ğŸš€ Stack TecnolÃ³gica Recomendada para ProduÃ§Ã£o

Para garantir a escalabilidade, robustez, seguranÃ§a e manutenibilidade de um SaaS de nÃ­vel empresarial, especialmente para uma agÃªncia com 70+ colaboradores e dados crÃ­ticos, a seguinte stack Ã© **altamente recomendada** para a fase de produÃ§Ã£o:

*   **Backend:**
    *   **Node.js (Express/NestJS)** ou **Python (FastAPI/Django REST Framework)**.
    *   Arquitetura de microsserviÃ§os para modularidade e escalabilidade independente.
    *   APIs RESTful seguras com autenticaÃ§Ã£o via **JWT** ou **OAuth2**.
*   **Frontend:**
    *   **React**, **Angular** ou **Vue.js** para uma Single Page Application (SPA) com componentes reutilizÃ¡veis, melhor performance e tema customizÃ¡vel.
*   **Banco de Dados:**
    *   **PostgreSQL** como banco de dados relacional principal.
    *   ImplementaÃ§Ã£o multi-tenant com schemas isolados por cliente para seguranÃ§a e escalabilidade.
    *   Ãndices otimizados para relatÃ³rios complexos de data e hierarquia.
*   **Infraestrutura:**
    *   **AWS, Azure ou Google Cloud Platform (GCP)** para hospedagem e serviÃ§os gerenciados.
    *   **Kubernetes (K8s)** para orquestraÃ§Ã£o de containers e auto-scaling.
    *   **CI/CD (Continuous Integration/Continuous Deployment)** com ferramentas como GitHub Actions, GitLab CI/CD ou Jenkins para deploy contÃ­nuo e automatizado.
*   **Monitoramento e Logs:**
    *   **Prometheus** e **Grafana** para monitoramento de performance e mÃ©tricas.
    *   **ELK Stack (Elasticsearch, Logstash, Kibana)** ou **Datadog/New Relic** para logs centralizados e anÃ¡lise.
*   **Testes:**
    *   Testes automatizados de unidade, integraÃ§Ã£o e UI (e.g., Jest, Cypress, Playwright).

Esta stack oferece a base necessÃ¡ria para um sistema SaaS de alta performance, seguro e escalÃ¡vel, capaz de evoluir com as necessidades da agÃªncia.

---

## ğŸ— Estrutura do Projeto (MÃ³dulos)

O projeto serÃ¡ organizado em mÃ³dulos lÃ³gicos para facilitar o desenvolvimento, manutenÃ§Ã£o e escalabilidade.

```
.
â”œâ”€â”€ server.js               # Ponto de entrada do backend (inicializa Express e middlewares)
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js             # Middleware de autenticaÃ§Ã£o (ensureAuth)
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js             # Rotas de autenticaÃ§Ã£o (/login, /logout)
â”‚   â”œâ”€â”€ clientes.js         # Rotas CRUD para clientes (/api/clientes)
â”‚   â”œâ”€â”€ projetos.js         # Rotas CRUD para projetos (/api/projetos)
â”‚   â”œâ”€â”€ campanhas.js        # Rotas CRUD para campanhas (/api/campanhas)
â”‚   â”œâ”€â”€ horas.js            # Rotas para entrada de horas (/api/horas)
â”‚   â”œâ”€â”€ aprovacao.js        # Rotas para aprovaÃ§Ã£o de timesheets (/api/horas/pending, /api/horas/:id/approve)
â”‚   â”œâ”€â”€ relatorios.js       # Rotas para relatÃ³rios e BI (/api/report/...)
â”‚   â””â”€â”€ config.js           # Rotas para configuraÃ§Ãµes e administraÃ§Ã£o (/api/config/...)
â”œâ”€â”€ public/                 # Arquivos estÃ¡ticos do frontend
â”‚   â”œâ”€â”€ index.html          # PÃ¡gina inicial (redireciona para login ou dashboard)
â”‚   â”œâ”€â”€ login.html          # PÃ¡gina de login
â”‚   â”œâ”€â”€ clientes.html       # Frontend para gestÃ£o de clientes
â”‚   â”œâ”€â”€ projetos.html       # Frontend para gestÃ£o de projetos
â”‚   â”œâ”€â”€ campanhas.html      # Frontend para gestÃ£o de campanhas
â”‚   â”œâ”€â”€ timesheet.html      # Frontend para entrada de horas
â”‚   â”œâ”€â”€ approvals.html      # Frontend para aprovaÃ§Ã£o de timesheets
â”‚   â”œâ”€â”€ dashboard.html      # Frontend para relatÃ³rios e dashboard
â”‚   â”œâ”€â”€ config.html         # Frontend para configuraÃ§Ãµes administrativas
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css       # Estilos globais
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ main.js         # LÃ³gica JS global
â”‚       â”œâ”€â”€ auth.js         # LÃ³gica JS para autenticaÃ§Ã£o
â”‚       â”œâ”€â”€ clientes.js     # LÃ³gica JS para clientes
â”‚       â”œâ”€â”€ projetos.js     # LÃ³gica JS para projetos
â”‚       â”œâ”€â”€ campanhas.js    # LÃ³gica JS para campanhas
â”‚       â”œâ”€â”€ timesheet.js    # LÃ³gica JS para timesheet
â”‚       â”œâ”€â”€ approvals.js    # LÃ³gica JS para aprovaÃ§Ãµes
â”‚       â”œâ”€â”€ dashboard.js    # LÃ³gica JS para relatÃ³rios
â”‚       â””â”€â”€ config.js       # LÃ³gica JS para configuraÃ§Ãµes
â”œâ”€â”€ integrations/           # MÃ³dulo para integraÃ§Ãµes com APIs externas
â”‚   â”œâ”€â”€ omie.js             # FunÃ§Ãµes de sincronizaÃ§Ã£o com API OMIE
â”‚   â””â”€â”€ webhooks.js         # FunÃ§Ãµes para webhooks (Slack, Teams, Email)
â””â”€â”€ package.json            # DependÃªncias do Node.js
```

### Detalhamento dos MÃ³dulos:

*   **MÃ³dulo 1 â€“ AutenticaÃ§Ã£o e UsuÃ¡rios:**
    *   `server.js`: Inicializa Express e `express-session`.
    *   `routes/auth.js`: Rota `POST /login` (valida no Replit DB `user:{email}` e cria sessÃ£o), rota `GET /logout` (destrÃ³i sessÃ£o).
    *   `middleware/auth.js`: Middleware `ensureAuth` para proteger rotas.
    *   Replit DB: Guarda `user:{email}` com campos `{senhaHash, role}`.
    *   Testes via `curl` para login bem-sucedido e falha.

*   **MÃ³dulo 2 â€“ GestÃ£o de Clientes/Projetos/Campanhas:**
    *   `routes/clientes.js`: CRUD em `/api/clientes`, usando Replit DB keys `cliente:{id}` com `{nome, contratoVigente}`.
    *   `routes/projetos.js`: CRUD em `/api/projetos` referenciando `clienteId`.
    *   `routes/campanhas.js`: CRUD em `/api/campanhas` referenciando `projetoId`.
    *   Frontend: `clientes.html`, `projetos.html`, `campanhas.html` com tabelas Bootstrap e formulÃ¡rios, JS para `fetch` nas rotas e renderizaÃ§Ã£o dinÃ¢mica.

*   **MÃ³dulo 3 â€“ Timesheet (Entrada de Horas):**
    *   `routes/horas.js`: `POST /api/horas` que recebe `{colaboradorId, data, clienteId, projetoId, campanhaId, atividade, horas, descricao}`. Armazena em key `hora:{uuid}` e adiciona em Ã­ndice por colaborador e data.
    *   Frontend: `timesheet.html` com componente de grade semanal (`week-grid`, `save-button`), JS para montar dropdowns de tarefas via `GET /api/campanhas`, inputs de horas e descriÃ§Ã£o, botÃ£o chama `POST`, validaÃ§Ã£o no cliente e servidor para ausÃªncia de duplicatas.

*   **MÃ³dulo 4 â€“ AprovaÃ§Ã£o de Timesheets:**
    *   `routes/aprovacao.js`: `GET /api/horas/pending` (filtra `status=pendente`), `PATCH /api/horas/:id/approve` (define `status=aprovado`, `approverId`, `timestamp`), `PATCH /api/horas/:id/reject` (define `status=rejeitado` e `comment`).
    *   Frontend: `approvals.html` lista pendÃªncias com botÃµes (`approve-{{id}}`, `reject-{{id}}`), modal de comentÃ¡rio em rejeiÃ§Ã£o, JS faz `fetch` nos endpoints.

*   **MÃ³dulo 5 â€“ RelatÃ³rios e Dashboard:**
    *   `routes/relatorios.js`: `GET /api/report/colaborador/:id?from=&to=` (agrega horas por tipo), `GET /api/report/cliente/:id` e `/api/report/projeto/:id` (retornam JSON com totais e percentuais).
    *   Frontend: `dashboard.html` com componente `ReportTable` que renderiza tabela com filtros de data e botÃ£o â€œExportar CSVâ€ (converte JSON em CSV e dispara download).

*   **MÃ³dulo 6 â€“ ConfiguraÃ§Ãµes e AdministraÃ§Ã£o:**
    *   `routes/config.js`: CRUD em `/api/config/feriados`, `/api/config/categorias` e `/api/config/taxas`. Armazena em keys `config:feriado:{id}`, `config:categoria:{id}` e `config:taxa:{id}`.
    *   Frontend: `config.html` com formulÃ¡rios Bootstrap para cada entidade, JS faz `fetch` nas rotas de configuraÃ§Ã£o e renderiza listas editÃ¡veis.

*   **MÃ³dulo 7 â€“ IntegraÃ§Ãµes Futuras:**
    *   `integrations/omie.js`: FunÃ§Ã£o `syncOmie()` que faz `fetch` na API externa, mapeia clientes para Replit DB em `cliente:{id}`. ExpÃµe `POST /api/integrations/omie/sync` para gatilho manual ou agendado.
    *   `integrations/webhooks.js`: Prepara funÃ§Ãµes para notificaÃ§Ãµes em Slack, Microsoft Teams ou e-mail.

---

## ğŸ‘¤ HistÃ³rias de UsuÃ¡rio

*   **Como colaborador**, desejo iniciar um cronÃ´metro ou preencher manualmente minhas horas para associar ao projeto e tarefa correta, mantendo registro confiÃ¡vel.
*   **Como gestor**, desejo revisar lanÃ§amentos pendentes de minha equipe em uma Ãºnica tela e aprovar ou rejeitar com comentÃ¡rios para alinhar expectativas.
*   **Como administrador**, desejo fechar o mÃªs com um clique, adicionando observaÃ§Ãµes opcionais e liberando o prÃ³ximo perÃ­odo automaticamente.
*   **Como master**, desejo configurar hierarquias de aprovaÃ§Ã£o, categorias de horas e integraÃ§Ã£o com OMIE para adaptar o sistema Ã  realidade da agÃªncia.

---

## ğŸ“ˆ MÃ©tricas de Sucesso

*   **AdoÃ§Ã£o:** 80% dos colaboradores utilizando o sistema no primeiro mÃªs apÃ³s o rollout.
*   **EficiÃªncia no Fechamento:** ReduÃ§Ã£o de 50% do tempo gasto no fechamento mensal de timesheets.
*   **PrecisÃ£o:** â‰¥ 99% de precisÃ£o nos registros de horas faturÃ¡veis.
*   **OtimizaÃ§Ã£o de Horas NÃ£o DebitÃ¡veis:** DiminuiÃ§Ã£o de 40% nas horas nÃ£o debitÃ¡veis apÃ³s 3 meses de uso contÃ­nuo.
*   **SatisfaÃ§Ã£o do UsuÃ¡rio (CSAT):** â‰¥ 4,5/5 em pesquisa trimestral.

---

## âš ï¸ Riscos e DependÃªncias

*   **DependÃªncia de APIs Externas:** A disponibilidade e estabilidade da API OMIE e de outras ferramentas terceiras para integraÃ§Ãµes.
*   **Curva de Aprendizado:** Necessidade de treinamento adequado para colaboradores que nÃ£o estÃ£o familiarizados com sistemas de timesheet.
*   **AdequaÃ§Ã£o Cultural:** A necessidade de adaptar as categorias de horas nÃ£o faturÃ¡veis Ã  cultura interna especÃ­fica de cada agÃªncia.
*   **Escalabilidade:** Gerenciamento de picos de registros simultÃ¢neos, especialmente em finais de expedientes ou perÃ­odos de fechamento.

---

## ğŸ¤ Como Contribuir

Agradecemos o interesse em contribuir com o Tractionfy Timesheet!

1.  FaÃ§a um fork do repositÃ³rio.
2.  Crie uma nova branch (`git checkout -b feature/sua-feature`).
3.  FaÃ§a suas alteraÃ§Ãµes e commit (`git commit -m 'feat: Adiciona nova funcionalidade X'`).
4.  Envie para a branch (`git push origin feature/sua-feature`).
5.  Abra um Pull Request detalhando suas mudanÃ§as.

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## ğŸ“§ Contato

Para dÃºvidas, sugestÃµes ou suporte, entre em contato com [Seu Nome/Email/Link para Contato].

---
