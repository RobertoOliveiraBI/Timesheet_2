## Prompt para Desenvolvimento das Funcionalidades no Replit (Vibe Coding)

### Contexto:

No sistema Tractionfy Timesheet, atualmente n√£o temos a informa√ß√£o de quanto custa mensalmente cada colaborador nem a possibilidade de direcionar lan√ßamentos por centro de resultado espec√≠fico. Precisamos ampliar o sistema com esses dois recursos.

### L√≥gica:

Para aprimorar a an√°lise financeira, precisamos armazenar o custo mensal de cada colaborador, al√©m de permitir a escolha de centro de resultados ao lan√ßar horas, j√° que colaboradores podem trabalhar em m√∫ltiplos centros diferentes.

### A√ß√£o:

Realizar duas implementa√ß√µes espec√≠ficas no sistema:

1. **Adicionar campo "Custo Mensal" ao cadastro de usu√°rios**
2. **Criar op√ß√£o de sele√ß√£o de "Centro de Resultado" nos lan√ßamentos de timesheet, incluindo um centro padr√£o chamado "Todos"**.

### Resultados:

* O sistema armazenar√° o custo mensal dos colaboradores.
* O timesheet permitir√° selecionar um centro de resultado espec√≠fico por lan√ßamento, possibilitando an√°lise detalhada e precisa por √°rea.

### Entradas:

* Cadastro atual de usu√°rios.
* Formul√°rio existente de lan√ßamento de horas (timesheet semanal).

### Formato:

Siga exatamente este formato nas respostas:

* **‚úÖ Requisitos Funcionais:**

  * Adicionar campo "Custo Mensal" no cadastro de usu√°rios.
  * Permitir escolha do centro de resultados no timesheet com op√ß√£o padr√£o "Todos".

* **üóÉÔ∏è Banco de Dados:**

  * N√£o √© necess√°rio criar nova tabela.
  * Acrescente o campo `custo_mensal` (numeric) √† tabela existente `users`.
  * Acrescente o campo `centro_resultado` (varchar/string) √† tabela existente `time_entries`.
  * Utilize padr√µes do projeto atual (Drizzle ORM e PostgreSQL).

* **üíæ Persist√™ncia:**

  * Dados devem ser salvos automaticamente ap√≥s edi√ß√£o (modo autosave).
  * Validar campo "Custo Mensal" como obrigat√≥rio, num√©rico, n√£o permitindo valor negativo.
  * Campo "Centro de Resultado" deve permitir valores nulos com "Todos" como valor padr√£o.

* **üîê Controle de Acesso:**

  * Campo "Custo Mensal" edit√°vel somente por ADMIN e MASTER.
  * Campo "Centro de Resultado" edit√°vel por todos os usu√°rios com acesso ao lan√ßamento de horas.

* **üé® Frontend:**

  * Acrescente o campo "Custo Mensal" na tela de cadastro/edi√ß√£o de usu√°rios, abaixo do campo atual de cargo.
  * Acrescente um dropdown para selecionar o "Centro de Resultado" no formul√°rio semanal do timesheet.
  * Utilize componentes do shadcn/ui e Tailwind CSS j√° existentes no projeto.

‚ö†Ô∏è **Important:**
**Do not make changes to any other part of the system** ‚Äî only work on this section. Leave all other modules untouched.

### ‚úÖ Checklist de Tarefas (Plano de Implementa√ß√£o):

1. Analisar a estrutura atual das tabelas `users` e `time_entries`.
2. Adicionar coluna `custo_mensal` (numeric) na tabela `users`.
3. Adicionar coluna `centro_resultado` (varchar) na tabela `time_entries`.
4. Atualizar schema ORM (Drizzle) com novas colunas e executar migra√ß√£o no PostgreSQL.
5. Criar valida√ß√µes no backend:

   * Custo Mensal obrigat√≥rio e positivo.
   * Centro de Resultado permite null e padr√£o "Todos".
6. Implementar campo "Custo Mensal" na tela do usu√°rio (frontend), restrito a ADMIN e MASTER.
7. Implementar dropdown "Centro de Resultado" no formul√°rio de timesheet (frontend).
8. Realizar testes completos:

   * Cadastro e edi√ß√£o de usu√°rios com diferentes roles.
   * Lan√ßamentos com diferentes centros de resultado.
9. Revisar c√≥digo para seguran√ßa e evitar vazamento de dados sens√≠veis.

---

### üîç Testes Essenciais:

* Valide todos os CRUDs necess√°rios para usu√°rios e lan√ßamentos de horas.
* Teste listagem e persist√™ncia de dados.
* Certifique-se de n√£o haver erros relacionados a valores nulos ou formata√ß√£o de campos num√©ricos.

---

### Papel:

Voc√™ ser√° um engenheiro de software s√™nior, respons√°vel por implementar estas funcionalidades de maneira simples, eficiente e clara, respeitando rigorosamente as pr√°ticas recomendadas de seguran√ßa e desempenho.
