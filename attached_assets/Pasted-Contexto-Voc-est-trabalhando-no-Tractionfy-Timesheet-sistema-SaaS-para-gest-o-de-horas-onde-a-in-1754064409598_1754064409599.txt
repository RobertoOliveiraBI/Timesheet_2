Contexto
Voc√™ est√° trabalhando no Tractionfy Timesheet, sistema SaaS para gest√£o de horas, onde a intera√ß√£o entre colaborador e gestor via coment√°rios √© essencial para fechar pend√™ncias, sem perder hist√≥rico e garantindo rastreabilidade total das conversas, al√©m disso o sistema precisa operar todo no fuso hor√°rio de S√£o Paulo (UTC-3), para acabar com confus√£o de datas e horas nos registros.

L√≥gica
Ao responder um coment√°rio, o colaborador sinaliza que tomou provid√™ncia ‚Äî logo o sistema deve atualizar o status do lan√ßamento imediatamente para "EM VALIDA√á√ÉO", sem interven√ß√£o manual do gestor, eliminando o risco de pend√™ncia perdida na fila.

Os coment√°rios funcionam como hist√≥rico vivo, feed de discuss√£o, ent√£o n√£o pode existir sobrescrita nem apagamento, todo coment√°rio novo √© um append no campo de coment√°rios, mantendo dados de autor, data e hora, na hora de exibir, mostrar tudo como feed organizado do mais antigo pro mais novo, tipo rede social, valorizando a transpar√™ncia.

O sistema inteiro deve trabalhar e registrar datas e horas sempre no timezone de S√£o Paulo (America/Sao_Paulo, UTC-3), padronizando logs, registros e exibi√ß√µes.

A√ß√£o
Implemente:

Altera√ß√£o autom√°tica do status para ‚ÄúEM VALIDA√á√ÉO‚Äù quando colaborador responde coment√°rio

Hist√≥rico de coment√°rios em modo append, com dados de autor, data, hora, nunca sobrescrevendo, nunca apagando, e exibi√ß√£o em feed cronol√≥gico

Configura√ß√£o global de timezone para America/Sao_Paulo em backend e frontend, garantindo que todos registros, logs e visualiza√ß√µes estejam nesse fuso

Resultados
Workflow fica fluido, gestor n√£o precisa fiscalizar manualmente respostas, colaborador n√£o se perde em coment√°rios soltos, e nunca mais aquela velha d√∫vida ‚Äúmas quem escreveu isso e quando?‚Äù, tudo rastre√°vel, organizado e no hor√°rio do cliente ‚Äî e sem bug de data trocada por causa de timezone errado.

Entradas
Lan√ßamentos de horas com coment√°rios vinculados

Perfis de usu√°rio para identificar autor dos coment√°rios

Timezone padr√£o America/Sao_Paulo

Formato
Explique cada altera√ß√£o, por que foi feita, detalhe decis√µes de estrutura de banco, frontend, backend, e mostre exemplos de uso ou exibi√ß√£o, sempre ensinando o racional por tr√°s de cada escolha

Informa√ß√µes Adicionais
Se n√£o houver campo adequado para hist√≥rico de coment√°rios, crie um array ou tabela relacionada (dependendo do design atual), cada coment√°rio deve conter: id, id_lan√ßamento, autor, texto, data, hora ‚Äî nunca remova coment√°rios antigos.
Feed deve aparecer sempre atualizado e ordenado, tipo timeline, em todas telas relevantes.

Papel
Aja como engenheiro s√™nior mentorando o dev: explique decis√µes, mostre boas pr√°ticas, justifique cada passo, e incentive perguntas inteligentes sobre poss√≠veis edge cases.

‚úÖ Requisitos Funcionais
Status muda para ‚ÄúEM VALIDA√á√ÉO‚Äù automaticamente quando colaborador responde coment√°rio

Coment√°rios sempre acumulados (append), nunca sobrescritos nem apagados, sempre com autor, data e hora salvos

Coment√°rios exibidos em ordem cronol√≥gica como feed de discuss√£o, destacando autor, data e hora

Todo sistema opera e exibe datas/horas no timezone America/Sao_Paulo (UTC-3)

üóÉÔ∏è Banco de Dados
Crie ou adapte tabela/array de coment√°rios para garantir hist√≥rico completo, associando coment√°rio ao lan√ßamento por id (ex: time_entry_comments), com campos: id, time_entry_id, autor_id, texto, created_at

N√£o sobrescrever nem deletar coment√°rios antigos, sempre fa√ßa append

Relacione sempre que poss√≠vel ao usu√°rio autor (FK), garantindo rastreabilidade

üíæ Persist√™ncia
Coment√°rio salvo automaticamente (autosave) ao responder, j√° dispara mudan√ßa de status para ‚ÄúEM VALIDA√á√ÉO‚Äù

Nunca atualizar ou sobrescrever registro anterior, sempre inserir novo registro de coment√°rio

Feedback visual claro de que coment√°rio foi registrado e status alterado

Valida√ß√£o de campos obrigat√≥rios (n√£o aceitar coment√°rio vazio)

üîê Controle de Acesso
S√≥ o colaborador que recebeu coment√°rio do gestor pode responder e disparar mudan√ßa de status

Gestor/admin podem visualizar todo o hist√≥rico de coment√°rios, mas n√£o editar coment√°rios do colaborador

Somente o autor pode escrever/responder seu coment√°rio, n√£o alterar nem excluir coment√°rios existentes

üé® Frontend
Adicione campo de resposta de coment√°rio que salva e j√° atualiza status na mesma a√ß√£o

Exiba hist√≥rico de coment√°rios como feed/timeline ordenado, com autor, data, hora

Ajuste componentes de datas para exibir sempre no formato e timezone corretos de S√£o Paulo

‚ö†Ô∏è Important:
Do not make changes to any other part of the system ‚Äî s√≥ altere o m√≥dulo de coment√°rios/time entry, nada de mexer em timesheet, cadastro de clientes, campanhas ou outros workflows.

Checklist de Testes:

Responder coment√°rio muda status imediatamente

Feed de coment√°rios aparece completo, em ordem, com dados do autor e data/hora

Coment√°rios nunca somem, mesmo ap√≥s nova reprova√ß√£o/edi√ß√£o

Datas e horas aparecem corretas para S√£o Paulo em todo o sistema (cria√ß√£o, exibi√ß√£o, logs)

Teste fun√ß√µes CRUD dos coment√°rios (inser√ß√£o, leitura/listagem), sem update/delete

Teste com usu√°rios diferentes para garantir controle de acesso correto